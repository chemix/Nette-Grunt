var Nette=Nette||{};Nette.addEvent=function(a,b,c){var d=a["on"+b];a["on"+b]=function(){return"function"==typeof d&&d.apply(a,arguments)===!1?!1:c.apply(a,arguments)}},Nette.getValue=function(a){var b,c;if(a){if(a.nodeName){if("select"===a.nodeName.toLowerCase()){var d=a.selectedIndex,e=a.options;if(0>d)return null;if("select-one"===a.type)return e[d].value;for(b=0,values=[],c=e.length;c>b;b++)e[b].selected&&values.push(e[b].value);return values}return"checkbox"===a.type?a.checked:"radio"===a.type?Nette.getValue(a.form.elements[a.name].nodeName?[a]:a.form.elements[a.name]):a.value.replace(/^\s+|\s+$/g,"")}for(b=0,c=a.length;c>b;b++)if(a[b].checked)return a[b].value;return null}return null},Nette.validateControl=function(elem,rules,onlyCheck){rules=rules||eval("["+(elem.getAttribute("data-nette-rules")||"")+"]");for(var id=0,len=rules.length;len>id;id++){var rule=rules[id],op=rule.op.match(/(~)?([^?]+)/);rule.neg=op[1],rule.op=op[2],rule.condition=!!rule.rules;var el=rule.control?elem.form.elements[rule.control]:elem,success=Nette.validateRule(el,rule.op,rule.arg);if(null!==success)if(rule.neg&&(success=!success),rule.condition&&success){if(!Nette.validateControl(elem,rule.rules,onlyCheck))return!1}else if(!rule.condition&&!success){if(el.disabled)continue;return onlyCheck||Nette.addError(el,rule.msg.replace("%value",Nette.getValue(el))),!1}}return!0},Nette.validateForm=function(a){var b=a.form||a;if(b["nette-submittedBy"]&&null!==b["nette-submittedBy"].getAttribute("formnovalidate"))return!0;for(var c=0;c<b.elements.length;c++){var d=b.elements[c];if(d.nodeName.toLowerCase()in{input:1,select:1,textarea:1}&&!(d.type in{hidden:1,submit:1,image:1,reset:1})&&!d.disabled&&!d.readonly&&!Nette.validateControl(d))return!1}return!0},Nette.addError=function(a,b){a.focus&&a.focus(),b&&alert(b)},Nette.validateRule=function(a,b,c){var d=Nette.getValue(a);return a.getAttribute&&d===a.getAttribute("data-nette-empty-value")&&(d=""),":"===b.charAt(0)&&(b=b.substr(1)),b=b.replace("::","_"),b=b.replace(/\\/g,""),Nette.validators[b]?Nette.validators[b](a,c,d):null},Nette.validators={filled:function(a,b,c){return""!==c&&c!==!1&&null!==c},valid:function(a){return Nette.validateControl(a,null,!0)},equal:function(a,b,c){if(void 0===b)return null;b=Nette.isArray(b)?b:[b];for(var d=0,e=b.length;e>d;d++)if(c==(b[d].control?Nette.getValue(a.form.elements[b[d].control]):b[d]))return!0;return!1},minLength:function(a,b,c){return c.length>=b},maxLength:function(a,b,c){return c.length<=b},length:function(a,b,c){return b=Nette.isArray(b)?b:[b,b],(null===b[0]||c.length>=b[0])&&(null===b[1]||c.length<=b[1])},email:function(a,b,c){return/^("([ !\x23-\x5B\x5D-\x7E]*|\\[ -~])+"|[-a-z0-9!#$%&'*+/=?^_`{|}~]+(\.[-a-z0-9!#$%&'*+/=?^_`{|}~]+)*)@([0-9a-z\u00C0-\u02FF\u0370-\u1EFF]([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)+[a-z\u00C0-\u02FF\u0370-\u1EFF][-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF]$/i.test(c)},url:function(a,b,c){return/^(https?:\/\/|(?=.*\.))([0-9a-z\u00C0-\u02FF\u0370-\u1EFF](([-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,61}[0-9a-z\u00C0-\u02FF\u0370-\u1EFF])?\.)*[a-z\u00C0-\u02FF\u0370-\u1EFF][-0-9a-z\u00C0-\u02FF\u0370-\u1EFF]{0,17}[a-z\u00C0-\u02FF\u0370-\u1EFF]|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(:\d{1,5})?(\/\S*)?$/i.test(c)},regexp:function(a,b,c){var d="string"==typeof b?b.match(/^\/(.*)\/([imu]*)$/):!1;if(d)try{return new RegExp(d[1],d[2].replace("u","")).test(c)}catch(e){}},pattern:function(a,b,c){try{return"string"==typeof b?new RegExp("^("+b+")$").test(c):null}catch(d){}},integer:function(a,b,c){return/^-?[0-9]+$/.test(c)},"float":function(a,b,c){return/^-?[0-9]*[.,]?[0-9]+$/.test(c)},range:function(a,b,c){return Nette.isArray(b)?(null===b[0]||parseFloat(c)>=b[0])&&(null===b[1]||parseFloat(c)<=b[1]):null},submitted:function(a){return a.form["nette-submittedBy"]===a}},Nette.toggleForm=function(a){for(var b=0;b<a.elements.length;b++)a.elements[b].nodeName.toLowerCase()in{input:1,select:1,textarea:1,button:1}&&Nette.toggleControl(a.elements[b])},Nette.toggleControl=function(elem,rules,firsttime){rules=rules||eval("["+(elem.getAttribute("data-nette-rules")||"")+"]");for(var has=!1,__hasProp=Object.prototype.hasOwnProperty,handler=function(){Nette.toggleForm(elem.form)},id=0,len=rules.length;len>id;id++){var rule=rules[id],op=rule.op.match(/(~)?([^?]+)/);if(rule.neg=op[1],rule.op=op[2],rule.condition=!!rule.rules,rule.condition){var el=rule.control?elem.form.elements[rule.control]:elem,success=Nette.validateRule(el,rule.op,rule.arg);if(null!==success&&(rule.neg&&(success=!success),Nette.toggleControl(elem,rule.rules,firsttime)||rule.toggle)){if(has=!0,firsttime)if(el.nodeName)"select"===el.nodeName.toLowerCase()?Nette.addEvent(el,"change",handler):Nette.addEvent(el,"click",handler);else for(var i=0;i<el.length;i++)Nette.addEvent(el[i],"click",handler);for(var id2 in rule.toggle||[])__hasProp.call(rule.toggle,id2)&&Nette.toggle(id2,success?rule.toggle[id2]:!rule.toggle[id2])}}}return has},Nette.toggle=function(a,b){var c=document.getElementById(a);c&&(c.style.display=b?"":"none")},Nette.initForm=function(a){a.noValidate="novalidate",Nette.addEvent(a,"submit",function(){return Nette.validateForm(a)}),Nette.addEvent(a,"click",function(b){b=b||event;var c=b.target||b.srcElement;a["nette-submittedBy"]=c.type in{submit:1,image:1}?c:null});for(var b=0;b<a.elements.length;b++)Nette.toggleControl(a.elements[b],null,!0);if(/MSIE/.exec(navigator.userAgent)){var c={},d=function(){return!1},e=function(){return document.getElementById(this.htmlFor).focus(),!1};for(b=0,elms=a.getElementsByTagName("label");b<elms.length;b++)c[elms[b].htmlFor]=elms[b];for(b=0,elms=a.getElementsByTagName("select");b<elms.length;b++)Nette.addEvent(elms[b],"mousewheel",d),c[elms[b].htmlId]&&Nette.addEvent(c[elms[b].htmlId],"click",e)}},Nette.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},Nette.addEvent(window,"load",function(){for(var a=0;a<document.forms.length;a++)Nette.initForm(document.forms[a])});